<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>When You Miss Me</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CONFIG â€” Personalized for Mochi & Dinoboy ğŸ¦•ğŸ¡
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  --accent: #b480e4;
  --accent-glow: rgba(180,128,228,0.4);
  --accent-strong: rgba(180,128,228,0.7);
  --glass-bg: rgba(255,255,255,0.04);
  --glass-border: rgba(255,255,255,0.08);
  --pink: #e88fc5;
  --warm: #f5c6aa;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BASE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
* { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: 'Inter', sans-serif;
  background: #0a0012;
  color: #e8d5f5;
  overflow-x: hidden;
  min-height: 100vh;
  -webkit-tap-highlight-color: transparent;
}

h1,h2,h3,.serif {
  font-family: 'Playfair Display', Georgia, serif;
}

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(180,130,220,0.3); border-radius:3px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STARFIELD
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#starfield {
  position: fixed; top:0; left:0; width:100%; height:100%;
  z-index: 0; pointer-events: none;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SHOOTING STARS âœ¨ (NEW!)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.shooting-star {
  position: fixed;
  width: 80px;
  height: 2px;
  background: linear-gradient(90deg, rgba(180,128,228,0.8), transparent);
  border-radius: 50%;
  z-index: 1;
  pointer-events: none;
  animation: shoot 1s ease-out forwards;
  box-shadow: 0 0 6px rgba(180,128,228,0.5);
}
@keyframes shoot {
  0%   { transform: translateX(0) translateY(0) rotate(-30deg); opacity:1; }
  100% { transform: translateX(300px) translateY(180px) rotate(-30deg); opacity:0; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CURSOR TRAIL
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cursor-heart {
  position: fixed; pointer-events:none; z-index:9999;
  font-size: 14px; opacity:1;
  animation: cursorFloat 1.2s ease-out forwards;
}
@keyframes cursorFloat {
  0%   { transform: translateY(0) scale(1); opacity:1; }
  100% { transform: translateY(-40px) scale(0.3); opacity:0; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FLOATING PARTICLES
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.particle {
  position: fixed; pointer-events:none; z-index:1;
  opacity: 0.15; font-size: 18px;
  animation: floatUp linear infinite;
}
@keyframes floatUp {
  0%   { transform: translateY(100vh) rotate(0deg); opacity:0; }
  10%  { opacity:0.15; }
  90%  { opacity:0.15; }
  100% { transform: translateY(-10vh) rotate(360deg); opacity:0; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCREENS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.screen {
  display: none; min-height: 100vh;
  position: relative; z-index: 2;
}
.screen.active { display: flex; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PASSCODE SCREEN
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#passcode-screen {
  flex-direction: column; align-items: center; justify-content: center;
  gap: 30px; padding: 40px 20px;
}
.passcode-title {
  font-size: 1.1em; letter-spacing: 3px; text-transform: uppercase;
  color: rgba(232,213,245,0.5);
}
.passcode-subtitle {
  font-size: 0.85em; color: rgba(232,213,245,0.3);
  margin-top: -15px; font-style: italic;
}
.passcode-dots {
  display: flex; gap: 16px;
}
.passcode-dot {
  width: 18px; height: 18px; border-radius: 50%;
  border: 2px solid var(--accent); background: transparent;
  transition: all 0.3s;
}
.passcode-dot.filled {
  background: var(--accent);
  box-shadow: 0 0 12px var(--accent-glow);
}
.numpad {
  display: grid; grid-template-columns: repeat(3, 70px);
  gap: 12px; margin-top: 10px;
}
.numpad button {
  width: 70px; height: 70px; border-radius: 50%;
  border: 1px solid var(--glass-border);
  background: var(--glass-bg); color: #e8d5f5;
  font-size: 1.4em; font-family: 'Inter', sans-serif;
  cursor: pointer; transition: all 0.2s;
  backdrop-filter: blur(10px);
}
.numpad button:hover {
  background: rgba(180,128,228,0.12);
  border-color: var(--accent);
  transform: scale(1.08);
}
.numpad button:active { transform: scale(0.95); }
.numpad .wide { grid-column: span 1; }
.passcode-error {
  color: #e85a7a; font-size: 0.85em;
  opacity: 0; transition: opacity 0.3s;
  height: 20px;
}
.passcode-error.show { opacity: 1; }

.passcode-hint {
  font-size: 0.75em; color: rgba(232,213,245,0.25);
  margin-top: 10px; font-style: italic;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INTRO SCREEN
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#intro-screen {
  flex-direction: column; align-items: center; justify-content: center;
  text-align: center; padding: 40px 30px; gap: 20px;
}
.intro-text {
  font-family: 'Playfair Display', serif;
  font-size: 1.6em; line-height: 1.8;
  opacity: 0; animation: fadeInSlow 2s ease forwards;
  color: rgba(232,213,245,0.8);
}
.intro-text span {
  display: block; margin-bottom: 8px;
}
@keyframes fadeInSlow {
  0%   { opacity:0; transform: translateY(15px); }
  100% { opacity:1; transform: translateY(0); }
}
.enter-btn {
  margin-top: 30px; padding: 18px 50px;
  border: none; border-radius: 50px;
  background: linear-gradient(135deg, var(--accent), var(--pink));
  color: white; font-family: 'Playfair Display', serif;
  font-size: 1.2em; cursor: pointer;
  opacity: 0; animation: fadeInSlow 2s ease 1.5s forwards;
  box-shadow: 0 0 40px var(--accent-glow);
  transition: all 0.3s;
  letter-spacing: 0.5px;
}
.enter-btn:hover { transform: scale(1.05); box-shadow: 0 0 60px var(--accent-glow); }
.enter-btn:active { transform: scale(0.97); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAIN PORTAL
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#main-portal {
  flex-direction: column; align-items: center;
  padding: 40px 20px 100px; gap: 0;
}

.portal-header {
  text-align: center; margin-bottom: 40px;
  animation: fadeInSlow 1s ease forwards;
}
.portal-header h1 {
  font-size: 2em;
  background: linear-gradient(135deg, var(--accent), var(--pink), var(--warm));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.portal-header p {
  color: rgba(232,213,245,0.4); margin-top: 8px; font-style: italic;
}

.portal-section {
  width: 100%; max-width: 500px;
  margin-bottom: 50px;
  opacity: 0; animation: fadeInSlow 0.8s ease forwards;
}
.section-title {
  font-size: 1.4em; margin-bottom: 8px;
  background: linear-gradient(135deg, var(--accent), var(--pink));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
  cursor: pointer; user-select: none;
}
.section-subtitle {
  font-size: 0.85em; color: rgba(232,213,245,0.35);
  margin-bottom: 20px; font-style: italic;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MISS ME BUTTON
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.miss-container {
  display: flex; flex-direction: column; align-items: center; gap: 15px;
}
.miss-heart {
  width: 140px; height: 140px; border-radius: 50%;
  background: rgba(180,128,228,0.08);
  border: 2px solid rgba(180,128,228,0.2);
  display: flex; align-items: center; justify-content: center;
  font-size: 60px; cursor: pointer;
  position: relative; overflow: hidden;
  transition: all 0.3s; user-select: none;
  -webkit-user-select: none;
}
.miss-heart:hover {
  border-color: var(--accent);
  box-shadow: 0 0 30px var(--accent-glow);
}
.miss-heart::before {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0;
  height: 0%; background: linear-gradient(to top, rgba(180,128,228,0.3), rgba(232,143,197,0.2));
  transition: height 0.1s linear;
}
.miss-timer {
  font-size: 2em; font-family: 'Playfair Display', serif;
  color: var(--accent); opacity: 0.5;
  min-height: 40px;
}
.miss-msg-input {
  width: 100%; max-width: 350px;
  padding: 12px 18px; border-radius: 20px;
  border: 1px solid var(--glass-border);
  background: var(--glass-bg); color: #e8d5f5;
  font-family: 'Inter', sans-serif; font-size: 0.9em;
  outline: none; text-align: center;
  backdrop-filter: blur(10px);
}
.miss-msg-input::placeholder { color: rgba(232,213,245,0.25); }
.miss-msg-input:focus { border-color: var(--accent); }

.miss-status {
  font-style: italic; color: rgba(232,213,245,0.4);
  min-height: 24px; font-size: 0.9em;
  transition: all 0.3s;
}
.miss-status.sent { color: var(--pink); }

/* BURST ANIMATION */
.heart-burst {
  position: fixed; pointer-events: none; z-index: 9999;
  font-size: 20px;
  animation: burstOut 1s ease-out forwards;
}
@keyframes burstOut {
  0%   { transform: translate(0,0) scale(1); opacity:1; }
  100% { transform: translate(var(--tx), var(--ty)) scale(0.3); opacity:0; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MEMORY VAULT (ENVELOPES)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.envelope-grid {
  display: grid; gap: 12px;
}
.envelope {
  padding: 18px 22px; border-radius: 16px;
  border: 1px solid var(--glass-border);
  background: var(--glass-bg);
  cursor: pointer; transition: all 0.4s;
  backdrop-filter: blur(10px);
}
.envelope:hover {
  border-color: rgba(180,128,228,0.25);
  background: rgba(180,128,228,0.06);
  transform: translateY(-2px);
}
.envelope-label {
  font-size: 0.95em; display: flex; align-items: center; gap: 10px;
}
.envelope-content {
  max-height: 0; overflow: hidden; transition: max-height 0.5s ease, padding 0.5s ease;
  font-size: 0.88em; line-height: 1.7;
  color: rgba(232,213,245,0.7); padding: 0 5px;
}
.envelope.open .envelope-content {
  max-height: 600px; padding-top: 14px;
}
.envelope.open {
  border-color: var(--accent);
  box-shadow: 0 0 20px rgba(180,128,228,0.1);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TIMELINE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.timeline {
  position: relative;
  padding-left: 30px;
}
.timeline::before {
  content: ''; position: absolute; left: 8px; top: 0; bottom: 0;
  width: 2px; background: linear-gradient(to bottom, var(--accent), transparent);
}
.timeline-item {
  margin-bottom: 35px; opacity: 0; transform: translateX(-20px);
  transition: all 0.6s ease;
}
.timeline-item.visible {
  opacity: 1; transform: translateX(0);
}
.timeline-dot {
  width: 14px; height: 14px; border-radius: 50%;
  background: var(--accent); position: absolute; left: 2px;
  box-shadow: 0 0 10px var(--accent-glow);
}
.timeline-caption {
  font-size: 0.9em; color: rgba(232,213,245,0.5);
  margin-bottom: 10px; font-style: italic;
}
.timeline-photo {
  width: 100%; aspect-ratio: 4/3;
  border-radius: 14px; overflow: hidden;
  border: 1px solid var(--glass-border);
  background: rgba(180,128,228,0.04);
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; position: relative;
  transition: all 0.5s;
}
.timeline-photo img {
  width: 100%; height: 100%; object-fit: cover;
  filter: blur(15px); transition: filter 0.8s ease;
}
.timeline-photo.revealed img { filter: blur(0); }
.timeline-photo .placeholder-text {
  position: absolute; color: rgba(232,213,245,0.3);
  font-style: italic; pointer-events: none;
  transition: opacity 0.5s;
}
.timeline-photo.revealed .placeholder-text { opacity: 0; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HEARTBEAT SYNC
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.heartbeat-container {
  display: flex; flex-direction: column; align-items: center; gap: 20px;
}
.heartbeat-visual {
  font-size: 80px; transition: transform 0.1s;
}
.heartbeat-visual.beating {
  animation: heartPulse 0.83s ease infinite;
}
@keyframes heartPulse {
  0%   { transform: scale(1); }
  15%  { transform: scale(1.25); }
  30%  { transform: scale(1); }
  45%  { transform: scale(1.15); }
  60%  { transform: scale(1); }
}
.sync-btn {
  padding: 14px 35px; border-radius: 50px;
  border: 1px solid var(--accent);
  background: rgba(180,128,228,0.08);
  color: var(--accent); font-family: 'Playfair Display', serif;
  font-size: 1em; cursor: pointer;
  transition: all 0.3s;
}
.sync-btn:hover { background: rgba(180,128,228,0.15); transform: scale(1.05); }
.heartbeat-text {
  text-align: center; font-style: italic;
  color: rgba(232,213,245,0.4); min-height: 50px;
  line-height: 1.6; transition: all 0.5s;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DISTANCE COUNTER
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.distance-card {
  text-align: center; padding: 30px;
  border-radius: 20px;
  border: 1px solid var(--glass-border);
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
}
.distance-number {
  font-size: 3.5em; font-family: 'Playfair Display', serif;
  background: linear-gradient(135deg, var(--accent), var(--pink));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text; line-height: 1.2;
}
.distance-label {
  color: rgba(232,213,245,0.4); font-style: italic;
  margin-top: 5px;
}
.distance-detail {
  display: flex; justify-content: center; gap: 30px;
  margin-top: 20px;
}
.distance-detail div {
  text-align: center;
}
.distance-detail .num {
  font-size: 1.8em; font-family: 'Playfair Display', serif;
  color: var(--accent);
}
.distance-detail .lbl {
  font-size: 0.75em; color: rgba(232,213,245,0.3);
  text-transform: uppercase; letter-spacing: 1px;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DAILY LOVE DROP
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.love-drop-card {
  padding: 25px; border-radius: 20px;
  border: 1px solid var(--glass-border);
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
  text-align: center;
}
.love-drop-day {
  font-size: 0.8em; text-transform: uppercase;
  letter-spacing: 2px; color: var(--accent);
  margin-bottom: 12px;
}
.love-drop-msg {
  font-size: 0.95em; line-height: 1.8;
  color: rgba(232,213,245,0.7);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LOVE LETTER (NEW!) âœ‰ï¸
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.letter-card {
  padding: 25px; border-radius: 20px;
  border: 1px solid var(--glass-border);
  background: var(--glass-bg);
  backdrop-filter: blur(10px);
  text-align: center;
}
.letter-textarea {
  width: 100%; min-height: 120px; padding: 16px;
  border-radius: 14px; border: 1px solid var(--glass-border);
  background: rgba(255,255,255,0.02); color: #e8d5f5;
  font-family: 'Playfair Display', serif; font-size: 0.95em;
  line-height: 1.7; outline: none; resize: vertical;
  margin: 15px 0;
}
.letter-textarea::placeholder { color: rgba(232,213,245,0.2); font-style: italic; }
.letter-textarea:focus { border-color: var(--accent); }
.letter-send-btn {
  padding: 12px 35px; border-radius: 50px;
  border: 1px solid var(--pink);
  background: rgba(232,143,197,0.08);
  color: var(--pink); font-family: 'Playfair Display', serif;
  font-size: 0.95em; cursor: pointer; transition: all 0.3s;
}
.letter-send-btn:hover { background: rgba(232,143,197,0.15); transform: scale(1.05); }
.letter-status {
  font-style: italic; color: rgba(232,213,245,0.4);
  margin-top: 12px; min-height: 20px; font-size: 0.85em;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   VIRTUAL HUG
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.hug-btn {
  display: block; margin: 0 auto;
  padding: 16px 45px; border-radius: 50px;
  border: 1px solid var(--warm);
  background: rgba(245,198,170,0.06);
  color: var(--warm); font-family: 'Playfair Display', serif;
  font-size: 1.05em; cursor: pointer; transition: all 0.3s;
}
.hug-btn:hover { background: rgba(245,198,170,0.12); transform: scale(1.05); }
.hug-overlay {
  position: fixed; inset: 0; z-index: 9998;
  background: radial-gradient(circle, rgba(245,198,170,0.15), transparent 70%);
  pointer-events: none; opacity: 0; transition: opacity 0.8s;
}
.hug-overlay.active { opacity: 1; }
.hug-text {
  position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%);
  z-index: 9999; font-family: 'Playfair Display', serif;
  font-size: 1.8em; color: var(--warm);
  pointer-events: none; opacity: 0; transition: opacity 0.8s;
  text-align: center; text-shadow: 0 0 30px rgba(245,198,170,0.4);
}
.hug-text.active { opacity: 1; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GOOD NIGHT KISS (NEW!) ğŸ’‹
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.kiss-btn {
  display: block; margin: 10px auto 0;
  padding: 14px 40px; border-radius: 50px;
  border: 1px solid var(--pink);
  background: rgba(232,143,197,0.06);
  color: var(--pink); font-family: 'Playfair Display', serif;
  font-size: 1em; cursor: pointer; transition: all 0.3s;
}
.kiss-btn:hover { background: rgba(232,143,197,0.12); transform: scale(1.05); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MUSIC TOGGLE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.music-toggle {
  position: fixed; bottom: 25px; right: 25px;
  z-index: 100; width: 50px; height: 50px;
  border-radius: 50%; border: 1px solid var(--glass-border);
  background: var(--glass-bg); backdrop-filter: blur(15px);
  color: white; font-size: 1.3em; cursor: pointer;
  transition: all 0.3s;
}
.music-toggle:hover { background: rgba(180,128,228,0.15); transform: scale(1.08); }
.music-toggle.playing {
  border-color: var(--accent);
  box-shadow: 0 0 15px var(--accent-glow);
  animation: musicPulse 2s ease infinite;
}
@keyframes musicPulse {
  0%, 100% { box-shadow: 0 0 15px var(--accent-glow); }
  50% { box-shadow: 0 0 25px var(--accent-strong); }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   EASTER EGG
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.easter-egg {
  position: fixed; inset: 0; z-index: 10000;
  background: rgba(10,0,18,0.95);
  display: flex; align-items: center; justify-content: center;
  flex-direction: column; gap: 15px;
  opacity: 0; pointer-events: none;
  transition: opacity 0.5s;
}
.easter-egg.show { opacity: 1; pointer-events: all; }
.easter-egg .msg {
  font-family: 'Playfair Display', serif;
  font-size: 1.5em; text-align: center;
  padding: 0 30px; line-height: 1.8;
  background: linear-gradient(135deg, var(--accent), var(--pink), var(--warm));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.easter-egg .sub {
  font-size: 0.85em; color: rgba(232,213,245,0.3);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FOOTER
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.portal-footer {
  text-align: center; padding: 40px 20px;
  color: rgba(232,213,245,0.15); font-size: 0.8em;
  font-style: italic;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (max-width: 480px) {
  .portal-header h1 { font-size: 1.5em; }
  .intro-text { font-size: 1.3em; }
  .miss-heart { width: 120px; height: 120px; font-size: 50px; }
  .distance-number { font-size: 2.5em; }
  .numpad button { width: 60px; height: 60px; font-size: 1.2em; }
}
</style>
</head>
<body>

<!-- â”€â”€â”€ STARFIELD CANVAS â”€â”€â”€ -->
<canvas id="starfield"></canvas>

<!-- â”€â”€â”€ MUSIC TOGGLE â”€â”€â”€ -->
<button class="music-toggle" id="musicToggle" title="Toggle music">ğŸµ</button>

<!-- â”€â”€â”€ HUG OVERLAY â”€â”€â”€ -->
<div class="hug-overlay" id="hugOverlay"></div>
<div class="hug-text" id="hugText"></div>

<!-- â”€â”€â”€ EASTER EGG â”€â”€â”€ -->
<div class="easter-egg" id="easterEgg">
  <div class="msg">
    Hey Mochi ğŸ¡<br>
    You found the secret.<br><br>
    Here it is:<br>
    I loved you before I even knew<br>
    what love was supposed to feel like.<br><br>
    You taught me. ğŸ’œ<br>
    â€” Your Dinoboy ğŸ¦•
  </div>
  <div class="sub">tap anywhere to close</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCREEN 1: PASSCODE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen active" id="passcode-screen">
  <div class="passcode-title">ğŸ”’ This place is sacred</div>
  <div class="passcode-subtitle">Enter our date to continue</div>
  <div class="passcode-dots" id="passcodeDots">
    <div class="passcode-dot"></div>
    <div class="passcode-dot"></div>
    <div class="passcode-dot"></div>
    <div class="passcode-dot"></div>
  </div>
  <div class="passcode-error" id="passcodeError">That's not it, love. Try again ğŸ’œ</div>
  <div class="numpad" id="numpad">
    <button onclick="enterDigit('1')">1</button>
    <button onclick="enterDigit('2')">2</button>
    <button onclick="enterDigit('3')">3</button>
    <button onclick="enterDigit('4')">4</button>
    <button onclick="enterDigit('5')">5</button>
    <button onclick="enterDigit('6')">6</button>
    <button onclick="enterDigit('7')">7</button>
    <button onclick="enterDigit('8')">8</button>
    <button onclick="enterDigit('9')">9</button>
    <button onclick="clearPasscode()">âœ•</button>
    <button onclick="enterDigit('0')">0</button>
    <button onclick="backspace()">â†</button>
  </div>
  <div class="passcode-hint">hint: when everything begins ğŸ’</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCREEN 2: INTRO
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="intro-screen">
  <div class="intro-text" id="introText">
    <span>If you're hereâ€¦</span>
    <span>It means you miss me.</span>
    <span style="margin-top: 15px; font-size: 0.8em; color: rgba(232,213,245,0.4)">And that makes my heart skip a beat, Mochi ğŸ¡</span>
  </div>
  <button class="enter-btn" onclick="enterPortal()">ğŸ’— Yesâ€¦ I miss you</button>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCREEN 3: MAIN PORTAL
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="main-portal">
  <div class="portal-header">
    <h1>When You Miss Me</h1>
    <p>A place just for us, Mochi ğŸ¡ğŸ¦•</p>
  </div>

  <!-- â”€â”€â”€ MISS ME BUTTON â”€â”€â”€ -->
  <div class="portal-section" style="animation-delay: 0s">
    <h2 class="section-title" data-clicks="0">ğŸ’— Send Me a Signal</h2>
    <p class="section-subtitle">Press and hold to let me know you miss me</p>
    <div class="miss-container">
      <div class="miss-heart" id="missHeart">ğŸ’œ</div>
      <div class="miss-timer" id="missTimer"></div>
      <input type="text" class="miss-msg-input" id="missMsg" placeholder="whisper something to me..." maxlength="200">
      <div class="miss-status" id="missStatus"></div>
    </div>
  </div>

  <!-- â”€â”€â”€ LOVE LETTER â”€â”€â”€ -->
  <div class="portal-section" style="animation-delay: 0.08s">
    <h2 class="section-title" data-clicks="0">âœ‰ï¸ Write Me a Letter</h2>
    <p class="section-subtitle">Pour your heart out â€” I'll get every word</p>
    <div class="letter-card">
      <textarea class="letter-textarea" id="letterText" placeholder="Dear Dinoboy..."></textarea>
      <button class="letter-send-btn" onclick="sendLetter()">ğŸ’Œ Send with Love</button>
      <div class="letter-status" id="letterStatus"></div>
    </div>
  </div>

  <!-- â”€â”€â”€ MEMORY VAULT â”€â”€â”€ -->
  <div class="portal-section" style="animation-delay: 0.15s">
    <h2 class="section-title" data-clicks="0">ğŸ’Œ Open Whenâ€¦</h2>
    <p class="section-subtitle">Tap an envelope when you need it most</p>
    <div class="envelope-grid">

      <div class="envelope" onclick="toggleEnvelope(this)">
        <div class="envelope-label">ğŸŒ™ Open when you feel lonely</div>
        <div class="envelope-content">
          Hey, my Mochi. I know it's quiet right now and the room feels a little too big without me there. But close your eyes for a second. Can you feel it? That little tug in your chest â€” that's me, thinking about you right this second. You're never really alone because I carry you everywhere. In my thoughts, in my heart, in the stupid smile I get when I remember something you said. You are so deeply loved. Always. ğŸ’œ
        </div>
      </div>

      <div class="envelope" onclick="toggleEnvelope(this)">
        <div class="envelope-label">ğŸŒƒ Open when you can't sleep</div>
        <div class="envelope-content">
          Can't sleep, huh? Me neither, probably â€” because how can I sleep knowing someone as beautiful as you exists in the world? ğŸ˜Š Here's what I want you to do: get cozy, close your eyes, and imagine I'm right next to you. My arm around you, my chin on your head, breathing slowly. Just me and you in the quiet. You're safe. You're warm. You're mine. Now dream of us. ğŸŒ™
        </div>
      </div>

      <div class="envelope" onclick="toggleEnvelope(this)">
        <div class="envelope-label">ğŸ«‚ Open when you're stressed</div>
        <div class="envelope-content">
          Hey baby. Breathe. Inâ€¦ and out. Again. I know things feel heavy right now, and I wish I could be there to take some of that weight off your shoulders. But listen â€” you are the strongest person I know. You've been through hard things before and you came out shining. This? This is just another thing that will pass. And when it does, I'll be right here, proud of you like always. You've got this. And you've got me. Always. ğŸ¦•ğŸ’œ
        </div>
      </div>

      <div class="envelope" onclick="toggleEnvelope(this)">
        <div class="envelope-label">âœ¨ Open when you need motivation</div>
        <div class="envelope-content">
          My Mochi. Do you know what I see when I look at you? I see someone who doesn't give up. Someone who pushes through even when it's hard. Someone who inspires ME to be better. Whatever you're working toward right now â€” you're going to crush it. And I'm going to be your biggest cheerleader the whole way. Now go be amazing. I'll be here when you're done, ready to celebrate with you. ğŸ‰ğŸ’œ
        </div>
      </div>

      <div class="envelope" onclick="toggleEnvelope(this)">
        <div class="envelope-label">ğŸ’­ Open when you doubt yourself</div>
        <div class="envelope-content">
          Stop it. Right now. I know what you're doing â€” you're being mean to yourself again, and I won't allow it. Let me tell you who you ACTUALLY are: you are kind, you are beautiful, you are smart, you are funny, you are brave, and you make the world a better place just by being in it. I fell in love with every single part of you â€” even the parts you're trying to hide right now. So please, be gentle with yourself. For me? ğŸ’œğŸ¡
        </div>
      </div>

      <div class="envelope" onclick="toggleEnvelope(this)">
        <div class="envelope-label">ğŸ§ Open when you miss my voice</div>
        <div class="envelope-content">
          I know a text isn't the same as hearing my voice. So imagine me saying this in that low, soft voice I use when it's just us: "I love you, Mochi. More than you'll ever know. More than I can ever put into words. And every second we're apart, I'm counting down until I can tell you that in person again." Now play our song, close your eyes, and pretend I'm right there singing it terribly in your ear. ğŸµğŸ’œ
        </div>
      </div>

    </div>
  </div>

  <!-- â”€â”€â”€ OUR TIMELINE â”€â”€â”€ -->
  <div class="portal-section" style="animation-delay: 0.3s">
    <h2 class="section-title" data-clicks="0">ğŸ“– Us, In Moments</h2>
    <p class="section-subtitle">Click a photo to reveal it</p>
    <div class="timeline">

      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-caption">The moment everything changed âœ¨</div>
        <div class="timeline-photo" onclick="revealPhoto(this)">
          <span class="placeholder-text">tap to reveal ğŸ’œ</span>
          <!-- DROP photo1.jpg in the same folder -->
          <img src="photo1.jpeg" alt="" loading="lazy">
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-caption">When I knew you were mine ğŸ’œ</div>
        <div class="timeline-photo" onclick="revealPhoto(this)">
          <span class="placeholder-text">tap to reveal ğŸ’œ</span>
          <img src="photo2.jpeg" alt="" loading="lazy">
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-caption">My favorite smile in the world ğŸŒ¸</div>
        <div class="timeline-photo" onclick="revealPhoto(this)">
          <span class="placeholder-text">tap to reveal ğŸ’œ</span>
          <img src="photo3.jpeg" alt="" loading="lazy">
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-caption">Us being us ğŸ¦•ğŸ¡</div>
        <div class="timeline-photo" onclick="revealPhoto(this)">
          <span class="placeholder-text">tap to reveal ğŸ’œ</span>
          <img src="photo4.jpeg" alt="" loading="lazy">
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot"></div>
        <div class="timeline-caption">And this is just the beginningâ€¦ ğŸ’—</div>
        <div class="timeline-photo" onclick="revealPhoto(this)">
          <span class="placeholder-text">tap to reveal ğŸ’œ</span>
          <img src="photo5.jpeg" alt="" loading="lazy">
        </div>
      </div>

    </div>
  </div>

  <!-- â”€â”€â”€ HEARTBEAT SYNC â”€â”€â”€ -->
  <div class="portal-section" style="animation-delay: 0.45s">
    <h2 class="section-title" data-clicks="0">ğŸ’“ Heartbeat Sync</h2>
    <p class="section-subtitle">Feel my heart beating with yours</p>
    <div class="heartbeat-container">
      <div class="heartbeat-visual" id="heartbeatVisual">ğŸ’“</div>
      <button class="sync-btn" id="syncBtn" onclick="toggleSync()">ğŸ’“ Sync with Dinoboy's Heart</button>
      <div class="heartbeat-text" id="heartbeatText">
        "Press to feel my heartbeatâ€¦"
      </div>
    </div>
  </div>

  <!-- â”€â”€â”€ DISTANCE COUNTER â”€â”€â”€ -->
  <div class="portal-section" style="animation-delay: 0.6s">
    <h2 class="section-title" data-clicks="0">â³ Until I Hold You Again</h2>
    <p class="section-subtitle">Every second brings us closer</p>
    <div class="distance-card">
      <div class="distance-number" id="daysApart">â€”</div>
      <div class="distance-label">days apart</div>
      <div class="distance-detail">
        <div>
          <div class="num" id="hoursLeft">â€”</div>
          <div class="lbl">Hours</div>
        </div>
        <div>
          <div class="num" id="minsLeft">â€”</div>
          <div class="lbl">Minutes</div>
        </div>
        <div>
          <div class="num" id="secsLeft">â€”</div>
          <div class="lbl">Seconds</div>
        </div>
      </div>
      <div style="margin-top: 18px; color: rgba(232,213,245,0.35); font-style:italic; font-size:0.85em;">
        Until I can hold you again ğŸ¦•ğŸ¡
      </div>
    </div>
  </div>

  <!-- â”€â”€â”€ DAILY LOVE DROP â”€â”€â”€ -->
  <div class="portal-section" style="animation-delay: 0.75s">
    <h2 class="section-title" data-clicks="0">ğŸŒ¹ Today's Love Drop</h2>
    <p class="section-subtitle">A new message from me, just for today</p>
    <div class="love-drop-card">
      <div class="love-drop-day" id="loveDropDay">Day â€”</div>
      <div class="love-drop-msg" id="loveDropMsg"></div>
    </div>
  </div>

  <!-- â”€â”€â”€ VIRTUAL HUG & KISS â”€â”€â”€ -->
  <div class="portal-section" style="animation-delay: 0.9s">
    <h2 class="section-title" data-clicks="0">ğŸ¤— Feel Me</h2>
    <p class="section-subtitle">Close your eyes first</p>
    <button class="hug-btn" onclick="sendHug()">ğŸ¤— Receive a Hug from Dinoboy</button>
    <button class="kiss-btn" onclick="sendKiss()">ğŸ’‹ Good Night Kiss</button>
  </div>

  <!-- â”€â”€â”€ FOOTER â”€â”€â”€ -->
  <div class="portal-footer">
    Made with all my heart, for the only one who has it. ğŸ’œ<br>
    â€” Dinoboy ğŸ¦•
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JAVASCRIPT
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
// â”€â”€â”€ CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const CONFIG = {
  passcode: '1115',         // November 15 â€” MMDD
  herName: 'Mochi',
  hisName: 'Dinoboy',
  returnDate: new Date('2026-03-04T09:00:00+08:00'),
  startDate: new Date('2026-02-28T09:00:00+08:00'),

  // â”€â”€â”€ WEBHOOK URL â”€â”€â”€
  // Copy your webhook URL from the Tasklet trigger and paste it here:
  webhookUrl: 'https://webhooks.tasklet.ai/v1/public/webhook?token=fe22ab567fdba660acc5e870351ed07d',

  // â”€â”€â”€ ROMANTIC QUOTES â”€â”€â”€
  quotes: [
    "Distance means so little when someone means so much.",
    "I carry your heart with me â€” I carry it in my heart.",
    "Every love story is beautiful, but ours is my favorite.",
    "I love you not only for what you are, but for what I am when I am with you.",
    "You are my today and all of my tomorrows.",
    "In all the world, there is no heart for me like yours.",
    "I wish I could turn back the clock. I'd find you sooner and love you longer.",
    "You're the closest to heaven that I'll ever be.",
    "My heart is and always will be yours.",
    "I have found the one whom my soul loves.",
    "If I had a flower for every time I thought of you, I could walk through my garden forever.",
    "You are the poem I never knew how to write and my heart the poetry.",
    "I love you more than there are stars in the sky and fish in the sea."
  ],

  // â”€â”€â”€ DAILY LOVE DROPS (7 days) â”€â”€â”€
  dailyMessages: [
    // Day 1
    "Good morning, my Mochi. ğŸŒ… This is Day 1 without you, and I already feel like half of me is missing. But here's the thing â€” missing you is just proof that having you is the best thing that ever happened to me. I love you. Today, tomorrow, and every day after that.",
    // Day 2
    "Hey you. ğŸ’œ Day 2 and I keep reaching for my phone to text you something funny I saw. Everything reminds me of you â€” the sky, the music, even random strangers smiling. You've ruined me in the best way possible. Can't wait to see your face again.",
    // Day 3
    "We're halfway there, Mochi. ğŸŒ™ I've been replaying our memories in my head like a movie I never want to end. Do you know what my favorite scene is? Every single one. Because they all have you in them.",
    // Day 4
    "Day 4. The countdown is getting real now. ğŸ¦• I can almost feel your hand in mine. I want you to know â€” no distance, no time, no obstacle will ever change how I feel about you. You're my person. Always have been, always will be.",
    // Day 5
    "Mochi, if you're reading this, you've survived another day without me â€” and I'm so proud of you (even though I know it's hard because I'm obviously amazing ğŸ˜). Just kidding. YOU'RE the amazing one. And I'm the luckiest boy in the world. ğŸ’œ",
    // Day 6
    "Almost there, baby. ğŸŒ¸ Tomorrow feels like forever and one second at the same time. I've been thinking about the first thing I'll do when I see you â€” honestly, I'll probably just stare at you for a solid minute because I still can't believe you're real.",
    // Day 7
    "TODAY'S THE DAY. ğŸ‰ Or close to it. Mochi, we made it through the distance and we did it with love. I'm so proud of us. Now get ready, because when I see you, I'm not letting go for a very long time. I love you endlessly. ğŸ’œğŸ¦•ğŸ¡"
  ]
};

// â”€â”€â”€ STARFIELD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const canvas = document.getElementById('starfield');
const ctx = canvas.getContext('2d');
let stars = [];

function initStars() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  stars = Array.from({length: 200}, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 1.5 + 0.3,
    a: Math.random(),
    da: (Math.random() - 0.5) * 0.01
  }));
}

function drawStars() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  stars.forEach(s => {
    s.a += s.da;
    if (s.a > 1 || s.a < 0.1) s.da *= -1;
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(200,180,240,${s.a})`;
    ctx.fill();
  });
  requestAnimationFrame(drawStars);
}

initStars();
drawStars();
window.addEventListener('resize', initStars);

// â”€â”€â”€ SHOOTING STARS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function shootStar() {
  const star = document.createElement('div');
  star.className = 'shooting-star';
  star.style.top = Math.random() * 40 + '%';
  star.style.left = Math.random() * 60 + '%';
  document.body.appendChild(star);
  setTimeout(() => star.remove(), 1200);
}
setInterval(() => { if (Math.random() > 0.5) shootStar(); }, 4000);

// â”€â”€â”€ FLOATING PARTICLES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const particles = ['ğŸ’œ', 'âœ¨', 'ğŸŒ™', 'ğŸ’«', 'ğŸ¡', 'ğŸ¦•', 'ğŸ’—', 'â­'];
function spawnParticle() {
  const p = document.createElement('div');
  p.className = 'particle';
  p.textContent = particles[Math.floor(Math.random() * particles.length)];
  p.style.left = Math.random() * 100 + 'vw';
  p.style.animationDuration = (12 + Math.random() * 18) + 's';
  p.style.fontSize = (14 + Math.random() * 14) + 'px';
  document.body.appendChild(p);
  setTimeout(() => p.remove(), 30000);
}
setInterval(spawnParticle, 2500);

// â”€â”€â”€ CURSOR HEARTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let lastCursorTime = 0;
document.addEventListener('mousemove', (e) => {
  if (Date.now() - lastCursorTime < 100) return;
  lastCursorTime = Date.now();
  const h = document.createElement('div');
  h.className = 'cursor-heart';
  h.textContent = ['ğŸ’œ', 'ğŸ’—', 'âœ¨', 'ğŸ¡'][Math.floor(Math.random() * 4)];
  h.style.left = e.clientX + 'px';
  h.style.top = e.clientY + 'px';
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 1200);
});

// â”€â”€â”€ PASSCODE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let passcodeInput = '';

function enterDigit(d) {
  if (passcodeInput.length >= 4) return;
  passcodeInput += d;
  updateDots();

  if (passcodeInput.length === 4) {
    setTimeout(() => {
      if (passcodeInput === CONFIG.passcode) {
        document.getElementById('passcode-screen').classList.remove('active');
        document.getElementById('intro-screen').classList.add('active');
      } else {
        document.getElementById('passcodeError').classList.add('show');
        passcodeInput = '';
        updateDots();
        // Shake animation
        const dots = document.getElementById('passcodeDots');
        dots.style.animation = 'none';
        dots.offsetHeight;
        dots.style.animation = 'shake 0.4s ease';
        setTimeout(() => {
          document.getElementById('passcodeError').classList.remove('show');
        }, 2000);
      }
    }, 200);
  }
}

function clearPasscode() {
  passcodeInput = '';
  updateDots();
}

function backspace() {
  passcodeInput = passcodeInput.slice(0, -1);
  updateDots();
}

function updateDots() {
  const dots = document.querySelectorAll('.passcode-dot');
  dots.forEach((dot, i) => {
    dot.classList.toggle('filled', i < passcodeInput.length);
  });
}

// Add shake keyframe
const shakeStyle = document.createElement('style');
shakeStyle.textContent = '@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-10px)}75%{transform:translateX(10px)}}';
document.head.appendChild(shakeStyle);

// â”€â”€â”€ INTRO â†’ PORTAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function enterPortal() {
  document.getElementById('intro-screen').classList.remove('active');
  document.getElementById('main-portal').classList.add('active');
  updateCountdown();
  setInterval(updateCountdown, 1000);
  showDailyLoveDrop();
  observeTimeline();
}

// â”€â”€â”€ MISS ME BUTTON â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let missInterval = null;
let missStart = 0;
const missHeart = document.getElementById('missHeart');

function startMiss() {
  missStart = Date.now();
  document.getElementById('missStatus').textContent = '';
  document.getElementById('missStatus').classList.remove('sent');
  missInterval = setInterval(() => {
    const dur = ((Date.now() - missStart) / 1000).toFixed(1);
    document.getElementById('missTimer').textContent = dur + 's';
    const pct = Math.min((Date.now() - missStart) / 10000 * 100, 100);
    missHeart.style.setProperty('--fill', pct + '%');
    missHeart.querySelector('::before') // css handled
    missHeart.style.background = `linear-gradient(to top, rgba(180,128,228,${0.08 + pct/300}) ${pct}%, rgba(180,128,228,0.08) ${pct}%)`;
  }, 50);
}

function endMiss() {
  if (!missStart) return;
  clearInterval(missInterval);
  const duration = ((Date.now() - missStart) / 1000).toFixed(1);
  missStart = 0;
  missHeart.style.background = 'rgba(180,128,228,0.08)';

  // Burst animation
  for (let i = 0; i < 12; i++) {
    const b = document.createElement('div');
    b.className = 'heart-burst';
    b.textContent = ['ğŸ’œ','ğŸ’—','âœ¨','ğŸ¡','ğŸ’«'][Math.floor(Math.random()*5)];
    const angle = (i / 12) * Math.PI * 2;
    const dist = 80 + Math.random() * 60;
    b.style.cssText = `left:50%;top:50%;--tx:${Math.cos(angle)*dist}px;--ty:${Math.sin(angle)*dist}px;`;
    missHeart.parentElement.style.position = 'relative';
    missHeart.parentElement.appendChild(b);
    setTimeout(() => b.remove(), 1000);
  }

  const msg = document.getElementById('missMsg').value.trim();
  const quote = CONFIG.quotes[Math.floor(Math.random() * CONFIG.quotes.length)];

  document.getElementById('missStatus').textContent = 'âœ¨ Signal sent to ' + CONFIG.hisName + 'â€¦';
  document.getElementById('missStatus').classList.add('sent');
  document.getElementById('missMsg').value = '';

  sendNotification('miss', {
    type: 'miss_signal',
    timestamp: new Date().toLocaleString(),
    duration: duration + ' seconds',
    message: msg || '(no message â€” just missing you)',
    quote: quote
  });

  setTimeout(() => {
    document.getElementById('missStatus').textContent = '"' + quote + '"';
  }, 2500);
}

missHeart.addEventListener('mousedown', startMiss);
missHeart.addEventListener('mouseup', endMiss);
missHeart.addEventListener('mouseleave', endMiss);
missHeart.addEventListener('touchstart', (e) => { e.preventDefault(); startMiss(); });
missHeart.addEventListener('touchend', endMiss);

// â”€â”€â”€ LOVE LETTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function sendLetter() {
  const text = document.getElementById('letterText').value.trim();
  if (!text) {
    document.getElementById('letterStatus').textContent = 'Write something first, love ğŸ’œ';
    return;
  }
  document.getElementById('letterStatus').textContent = 'ğŸ’Œ Sending your letterâ€¦';

  sendNotification('letter', {
    type: 'love_letter',
    timestamp: new Date().toLocaleString(),
    letter: text
  });

  setTimeout(() => {
    document.getElementById('letterStatus').textContent = 'âœ¨ Letter delivered to ' + CONFIG.hisName + '\'s heart';
    document.getElementById('letterText').value = '';
  }, 1500);
}

// â”€â”€â”€ NOTIFICATION SYSTEM (WEBHOOK) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function sendNotification(type, data) {
  if (!CONFIG.webhookUrl || CONFIG.webhookUrl === 'PASTE_YOUR_WEBHOOK_URL_HERE') {
    console.log('[Love Portal] Notification (no webhook configured):', data);
    return;
  }

  fetch(CONFIG.webhookUrl, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(data),
    mode: 'no-cors'
  }).catch(err => {
    console.log('[Love Portal] Webhook send attempted:', err);
  });
}

// â”€â”€â”€ ENVELOPES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function toggleEnvelope(el) {
  const wasOpen = el.classList.contains('open');
  document.querySelectorAll('.envelope').forEach(e => e.classList.remove('open'));
  if (!wasOpen) el.classList.add('open');
}

// â”€â”€â”€ TIMELINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function revealPhoto(el) {
  el.classList.add('revealed');
}

function observeTimeline() {
  const obs = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) e.target.classList.add('visible');
    });
  }, { threshold: 0.2 });
  document.querySelectorAll('.timeline-item').forEach(item => obs.observe(item));
}

// â”€â”€â”€ HEARTBEAT SYNC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let syncing = false;
let heartbeatInterval = null;
let heartbeatAudio = null;

function toggleSync() {
  syncing = !syncing;
  const visual = document.getElementById('heartbeatVisual');
  const text = document.getElementById('heartbeatText');
  const btn = document.getElementById('syncBtn');

  if (syncing) {
    visual.classList.add('beating');
    btn.textContent = 'â¸ Pause';
    text.textContent = 'Right now, somewhere, my heart is beating like this too. ğŸ’œ';
    text.style.color = 'var(--accent)';

    // Create heartbeat audio
    try {
      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      heartbeatInterval = setInterval(() => {
        // First beat
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        osc.frequency.value = 60;
        osc.type = 'sine';
        gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.15);
        osc.start();
        osc.stop(audioCtx.currentTime + 0.15);

        // Second beat (delayed)
        setTimeout(() => {
          const osc2 = audioCtx.createOscillator();
          const gain2 = audioCtx.createGain();
          osc2.connect(gain2);
          gain2.connect(audioCtx.destination);
          osc2.frequency.value = 55;
          osc2.type = 'sine';
          gain2.gain.setValueAtTime(0.2, audioCtx.currentTime);
          gain2.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
          osc2.start();
          osc2.stop(audioCtx.currentTime + 0.1);
        }, 200);
      }, 830); // 72 BPM
      heartbeatAudio = audioCtx;
    } catch(e) {}
  } else {
    visual.classList.remove('beating');
    btn.textContent = 'ğŸ’“ Sync with ' + CONFIG.hisName + '\'s Heart';
    text.textContent = '"Press to feel my heartbeatâ€¦"';
    text.style.color = 'rgba(232,213,245,0.4)';
    if (heartbeatInterval) clearInterval(heartbeatInterval);
    if (heartbeatAudio) { heartbeatAudio.close(); heartbeatAudio = null; }
  }
}

// â”€â”€â”€ DISTANCE COUNTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function updateCountdown() {
  const now = new Date();
  const start = CONFIG.startDate;
  const end = CONFIG.returnDate;

  // Days apart
  const daysApart = Math.max(0, Math.ceil((now - start) / (1000*60*60*24)));
  document.getElementById('daysApart').textContent = daysApart;

  // Time left until return
  const diff = Math.max(0, end - now);
  const hrs = Math.floor(diff / (1000*60*60));
  const mins = Math.floor((diff % (1000*60*60)) / (1000*60));
  const secs = Math.floor((diff % (1000*60)) / 1000);

  document.getElementById('hoursLeft').textContent = hrs;
  document.getElementById('minsLeft').textContent = mins;
  document.getElementById('secsLeft').textContent = secs;

  if (diff <= 0) {
    document.getElementById('daysApart').textContent = '0';
    document.querySelector('.distance-label').textContent = 'ğŸ’œ I\'m home, Mochi ğŸ’œ';
  }
}

// â”€â”€â”€ DAILY LOVE DROP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showDailyLoveDrop() {
  const start = CONFIG.startDate;
  const now = new Date();
  const dayNum = Math.max(1, Math.ceil((now - start) / (1000*60*60*24)));
  document.getElementById('loveDropDay').textContent = 'Day ' + dayNum + ' Apart';
  document.getElementById('loveDropMsg').textContent = CONFIG.dailyMessages[dayNum - 1] || CONFIG.dailyMessages[CONFIG.dailyMessages.length - 1];
}

// â”€â”€â”€ VIRTUAL HUG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function sendHug() {
  const overlay = document.getElementById('hugOverlay');
  const text = document.getElementById('hugText');
  text.innerHTML = 'Dinoboy is hugging you right now, Mochiâ€¦ ğŸ¤—ğŸ¦•<br><span style="font-size:0.6em;opacity:0.5">close your eyes and feel it</span>';
  overlay.classList.add('active');
  text.classList.add('active');

  if (navigator.vibrate) navigator.vibrate([200, 100, 200, 100, 400]);

  setTimeout(() => {
    overlay.classList.remove('active');
    text.classList.remove('active');
  }, 5000);
}

// â”€â”€â”€ GOOD NIGHT KISS (NEW!) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function sendKiss() {
  const overlay = document.getElementById('hugOverlay');
  const text = document.getElementById('hugText');

  // Kiss emoji burst
  for (let i = 0; i < 20; i++) {
    setTimeout(() => {
      const kiss = document.createElement('div');
      kiss.className = 'heart-burst';
      kiss.textContent = ['ğŸ’‹', 'ğŸ’œ', 'âœ¨', 'ğŸ’—'][Math.floor(Math.random()*4)];
      kiss.style.position = 'fixed';
      kiss.style.left = (30 + Math.random() * 40) + '%';
      kiss.style.top = (30 + Math.random() * 40) + '%';
      kiss.style.setProperty('--tx', (Math.random()-0.5) * 200 + 'px');
      kiss.style.setProperty('--ty', (Math.random()-0.5) * 200 + 'px');
      kiss.style.fontSize = '24px';
      kiss.style.zIndex = '10001';
      document.body.appendChild(kiss);
      setTimeout(() => kiss.remove(), 1000);
    }, i * 80);
  }

  overlay.style.background = 'radial-gradient(circle, rgba(232,143,197,0.15), transparent 70%)';
  text.innerHTML = 'Good night, my Mochi ğŸ’‹ğŸŒ™<br><span style="font-size:0.6em;opacity:0.5">sweet dreams of us</span>';
  overlay.classList.add('active');
  text.classList.add('active');

  if (navigator.vibrate) navigator.vibrate([100, 50, 100]);

  setTimeout(() => {
    overlay.classList.remove('active');
    text.classList.remove('active');
    overlay.style.background = '';
  }, 5000);

  // Notify
  sendNotification('kiss', {
    type: 'good_night_kiss',
    timestamp: new Date().toLocaleString(),
    message: 'Mochi sent you a good night kiss ğŸ’‹ğŸŒ™'
  });
}

// â”€â”€â”€ MUSIC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let musicPlaying = false;
let bgMusic = null;

document.getElementById('musicToggle').addEventListener('click', () => {
  if (!bgMusic) {
    // "Love You With All My Heart" by Crush
    // Place song.mp3 in the same folder as index.html
    bgMusic = new Audio('song.mp3');
    bgMusic.loop = true;
    bgMusic.volume = 0.3;
    bgMusic.play().then(() => {
      musicPlaying = true;
      document.getElementById('musicToggle').textContent = 'ğŸ¶';
      document.getElementById('musicToggle').classList.add('playing');
    }).catch(() => {
      // If song.mp3 not found, fallback to ambient tone
      try {
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        function createPad(freq, vol) {
          const osc = ctx.createOscillator();
          const gain = ctx.createGain();
          const filter = ctx.createBiquadFilter();
          osc.type = 'sine';
          osc.frequency.value = freq;
          filter.type = 'lowpass';
          filter.frequency.value = 800;
          gain.gain.value = vol;
          osc.connect(filter);
          filter.connect(gain);
          gain.connect(ctx.destination);
          osc.start();
          return { osc, gain };
        }
        bgMusic = {
          ctx,
          pads: [createPad(220,0.03), createPad(277,0.02), createPad(330,0.02), createPad(440,0.015)],
          isFallback: true
        };
        musicPlaying = true;
        document.getElementById('musicToggle').textContent = 'ğŸ¶';
        document.getElementById('musicToggle').classList.add('playing');
      } catch(e) {}
    });
  } else if (musicPlaying) {
    if (bgMusic.isFallback) {
      bgMusic.pads.forEach(p => p.gain.gain.value = 0);
    } else {
      bgMusic.pause();
    }
    musicPlaying = false;
    document.getElementById('musicToggle').textContent = 'ğŸµ';
    document.getElementById('musicToggle').classList.remove('playing');
  } else {
    if (bgMusic.isFallback) {
      bgMusic.pads.forEach((p, i) => {
        p.gain.gain.value = [0.03, 0.02, 0.02, 0.015][i];
      });
    } else {
      bgMusic.play();
    }
    musicPlaying = true;
    document.getElementById('musicToggle').textContent = 'ğŸ¶';
    document.getElementById('musicToggle').classList.add('playing');
  }
});

// â”€â”€â”€ EASTER EGG (click any section title 5 times) â”€â”€â”€
document.querySelectorAll('.section-title').forEach(title => {
  title.addEventListener('click', () => {
    let clicks = parseInt(title.dataset.clicks || 0) + 1;
    title.dataset.clicks = clicks;
    if (clicks >= 5) {
      document.getElementById('easterEgg').classList.add('show');
      title.dataset.clicks = 0;
      setTimeout(() => {
        document.getElementById('easterEgg').addEventListener('click', () => {
          document.getElementById('easterEgg').classList.remove('show');
        }, { once: true });
      }, 500);
    }
  });
});
</script>
</body>
</html>